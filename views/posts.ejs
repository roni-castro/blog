<% include partials/header.ejs %>
    <div class="ui main text container">
        <div class="ui top attached segment">
            <div class="ui divided items">
                <% posts.forEach(function(post){ %>
                    <div class="item">
                        <div class="image">
                             <img src="<%= post.photo %>">
                        </div>
                        <div class="content">
                            <a class="header" href="/posts/<%= post.id%>"><%= post.title %></a> 
                            <div class="meta">
                                <span><%= post.createdAt %></span>
                            </div>
                            <div class="description">
                                <% var bodyStr = post.body!= null && post.body.length > 100 ?  post.body.substring(0, 100) + "..." : post.body %>
                              <p><%- bodyStr%></p>
                            </div>
                            <div class="extra">
                                <a href="/posts/<%= post.id%>" class="ui floated violet button">
                                    Read more<i class="right chevron icon"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                <% }); %>
            </div>
        </div>
    </div>

<% include partials/footer.ejs %>
